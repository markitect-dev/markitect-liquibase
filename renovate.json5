{
  $schema: 'https://docs.renovatebot.com/renovate-schema.json',
  extends: [
    'config:best-practices',
    ':automergeAll',
    ':automergePr',
    ':automergeRequireAllStatusChecks',
    ':semanticCommitsDisabled',
    ':separateMultipleMajorReleases',
    ':separateMultipleMinorReleases',
    ':separatePatchReleases',
  ],
  customDatasources: {
    sdkmanGradleVersion: {
      defaultRegistryUrlTemplate: 'https://api.sdkman.io/2/candidates/gradle/linuxx64/versions/all',
      format: 'plain',
      transformTemplates: [
        '{ "releases": $map($split(releases.version, ","), function($v) { { "version": $v } }) }',
      ],
    },
    sdkmanJavaVersion: {
      defaultRegistryUrlTemplate: 'https://api.sdkman.io/2/candidates/java/linuxx64/versions/all',
      format: 'plain',
      transformTemplates: [
        '{ "releases": $map($split(releases.version, ","), function($v) { { "version": $v } }) }',
      ],
    },
  },
  customManagers: [
    {
      customType: 'regex',
      datasourceTemplate: '{{#if datasource}}{{{datasource}}}{{else}}maven{{/if}}',
      managerFilePatterns: [
        '/(^|/)gradle/.*\\.toml$/',
      ],
      matchStrings: [
        '# renovate:(?: datasource=(?<datasource>[a-zA-Z0-9-._]+?))? depName=(?<depName>[^\\s]+?)(?: packageName=(?<packageName>[^\\s]+?))?(?: versioning=(?<versioning>[^\\s]+?))?(?: extractVersion=(?<extractVersion>[^\\s]+?))?\\s+[^"]+"(?<currentValue>[^"]+)"',
      ],
      versioningTemplate: '{{#if versioning}}{{{versioning}}}{{/if}}',
    },
    {
      customType: 'regex',
      datasourceTemplate: 'custom.sdkmanJavaVersion',
      managerFilePatterns: [
        '/(^|/)\\.java-version$/',
      ],
      matchStrings: [
        '(?<currentValue>.*)\\n',
      ],
      depNameTemplate: 'java',
      extractVersionTemplate: '^(?<version>\\d+)',
    },
    {
      customType: 'regex',
      managerFilePatterns: [
        '/(^|/)\\.sdkmanrc$/',
      ],
      matchStrings: [
        '# renovate:(?: datasource=(?<datasource>[a-zA-Z0-9-._]+?))? depName=(?<depName>[^\\s]+?)(?: packageName=(?<packageName>[^\\s]+?))?(?: versioning=(?<versioning>[^\\s]+?))?(?: extractVersion=(?<extractVersion>[^\\s]+?))?\\s+[^=]+=(?<currentValue>.+)\\n',
      ],
      versioningTemplate: '{{#if versioning}}{{{versioning}}}{{/if}}',
    },
  ],
  logLevelRemap: [
    {
      matchMessage: '/^Custom manager fetcher/',
      newLogLevel: 'debug',
    },
    {
      matchMessage: '/^Response that has failed validation/',
      newLogLevel: 'debug',
    },
  ],
  packageRules: [
    {
      matchPackageNames: [
        'java',
      ],
      allowedVersions: '/^(?:21|25)(?:\\.|-|$)/',
    },
    {
      matchPackageNames: [
        'com.google.guava:guava',
      ],
      versioning: 'docker',
    },
    {
      matchPackageNames: [
        'org.liquibase:**',
      ],
      matchUpdateTypes: [
        'major',
      ],
      enabled: false,
    },
    {
      groupName: 'OpenRewrite',
      matchPackageNames: [
        'org.openrewrite.recipe:**',
        'org.openrewrite.rewrite:**',
      ],
    },
    {
      matchPackageNames: [
        'org.springframework.boot:**',
      ],
      matchUpdateTypes: [
        'major',
      ],
      enabled: false,
    },
    {
      matchPackageNames: [
        'com.diffplug.spotless:com.diffplug.spotless.gradle.plugin',
      ],
      sourceUrl: 'https://github.com/diffplug/spotless',
    },
    {
      matchPackageNames: [
        'com.github.node-gradle.node:com.github.node-gradle.node.gradle.plugin',
      ],
      sourceUrl: 'https://github.com/node-gradle/gradle-node-plugin',
    },
    {
      matchPackageNames: [
        'com.github.spotbugs:com.github.spotbugs.gradle.plugin',
      ],
      sourceUrl: 'https://github.com/spotbugs/spotbugs-gradle-plugin',
    },
    {
      matchPackageNames: [
        'com.gradle.develocity:com.gradle.develocity.gradle.plugin',
      ],
      changelogUrl: 'https://docs.gradle.com/develocity/gradle/current/release-history/',
    },
    {
      matchPackageNames: [
        'de.thetaphi.forbiddenapis:de.thetaphi.forbiddenapis.gradle.plugin',
      ],
      sourceUrl: 'https://github.com/policeman-tools/forbidden-apis',
    },
    {
      matchPackageNames: [
        'io.github.gradle-nexus.publish-plugin:io.github.gradle-nexus.publish-plugin.gradle.plugin',
      ],
      sourceUrl: 'https://github.com/gradle-nexus/publish-plugin',
    },
    {
      matchPackageNames: [
        'net.ltgt.errorprone:net.ltgt.errorprone.gradle.plugin',
      ],
      sourceUrl: 'https://github.com/tbroyer/gradle-errorprone-plugin',
    },
    {
      matchPackageNames: [
        'net.ltgt.nullaway:net.ltgt.nullaway.gradle.plugin',
      ],
      sourceUrl: 'https://github.com/tbroyer/gradle-nullaway-plugin',
    },
    {
      matchPackageNames: [
        'org.gradle.toolchains.foojay-resolver-convention:org.gradle.toolchains.foojay-resolver-convention.gradle.plugin',
      ],
      sourceUrl: 'https://github.com/gradle/foojay-toolchains',
    },
    {
      matchPackageNames: [
        'org.openrewrite.rewrite:org.openrewrite.rewrite.gradle.plugin',
      ],
      sourceUrl: 'https://github.com/openrewrite/rewrite-gradle-plugin',
    },
    {
      matchPackageNames: [
        'org.sonarqube:org.sonarqube.gradle.plugin',
      ],
      sourceUrl: 'https://github.com/SonarSource/sonar-scanner-gradle',
    },
  ],
}

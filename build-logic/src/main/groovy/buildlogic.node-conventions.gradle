plugins {
    id 'com.github.node-gradle.node'
}

node {
    workDir = rootProject.layout.projectDirectory.dir('.gradle/nodejs')
    version = libs.versions.node.get()
    distBaseUrl = null
    download = true
    enableTaskRules = false
}

tasks.nodeSetup {
    enabled = project == rootProject
}

['npmInstall', 'npmSetup', 'pnpmInstall', 'pnpmSetup', 'yarn', 'yarnSetup'].each { name ->
    tasks.named(name) {
        enabled = false
    }
}
